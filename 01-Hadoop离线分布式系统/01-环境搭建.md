## 一 虚拟机环境

需要搭建三台虚拟机环境。  

步骤一：安装vmware，并确保其服务都启动
```
services.msc            # 使用该命令查看 vm开头的服务是否启动，没有启动的启动
```

步骤二：查看vmware网络配置
```
确保控制面板中的网络连接适配器中存在vmnet8连接
确认其IP4使用自定义地址，
确保网段地址都是未被上述虚拟机使用的。
默认网关一定要和vmware中NAT一致，笔者这里是`192.168.120.2` 

# 查看vmware网关方式：VMware菜单编辑-虚拟网络编辑器-NAT模式-NAT设置中网关的  
```

步骤三：安装操作系统
```
虚拟机推荐直接使用安装文件安装（centos6.9-clean-machine），
下载地址：链接：https://pan.baidu.com/s/1qsBDc0Cfog47ybE0o4kbpw  提取码：4sbc 

复制该文件夹为三分，命名为CDH1,CDH2,CDH3，使用vmware依次打开，
并分别设置不同的mac地址后启动（右键设置-网络适配器-高级-生成MAC地址） 

贴士：内存可以调高到2G以上，用户名都是root，密码都是123456   
```

步骤四：配置Linux mac地址：
```

## 4.1 修改mac地址：删除列出的Mac地址配置，只保留当前mac配置，并将eth改为 eth0
vim /etc/udev/rules.d/70-persistent-net.rules

## 4.2 修改网络配置：mac地址修改为上述地址，并修改,添加配置
vim /etc/sysconfig/network-scripts/ifcfg-eth0

ONBOOT=yes
BOOTPROTO=static
IPADDR=192.168.120.111      # 三台机器依次进行上述配置，IP依次为111，112，113
GATEWAY=192.168.120.2       # 此处是虚拟机本身的网关
NETMASK=255.255.255.0
DNS1=8.8.8.8

## 4.3 修改域名配置：将安装的三台机器规划为如下设置，IP第三部分必须与vmware网关一致
主机        IP地址              主机名
第一台机器	192.168.120.111     node01.hadoop.com
第一台机器	192.168.120.112	    node02.hadoop.com
第一台机器	192.168.120.113	    node03.hadoop.com
# 修改方式
vim /ect/sysconfig/network
HOSTNAME=node01.hadoop.com

## 4.4 修改host映射
vim /etc/hosts  # 添加 192.168.120.111 node01.hadoop.com node01


# 三台机器依次执行上述操作
```

步骤五：
```
# 依次重启：reboot -h now
# ping www.baidu.com  能ping通则上述配置通过
# 推荐以后使用SSH客户端连接
```

## 二 大数据集群环境准备

